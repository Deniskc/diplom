{% extends "base.html" %}
{% load static %}

{% block section %}
<section class="ftco-section contact-section ftco-no-pb" id="login">
    <div class="container">
        <div class="row justify-content-center mb-5 pb-3">
        <div class="col-md-7 heading-section text-center ftco-animate">
          <h2 class="mb-4">Регистрация</h2>
        </div>
      </div>

      <div class="row no-gutters block-9" style="width: 100%;margin:auto;padding-bottom:50px;">
        
          <form method="post" action="{% url "users:register" %}" id="myForm" action="#" class="bg-light p-4 p-md-5 contact-form">
          {% csrf_token %}


            
              <div class="form-group">
                  <label for="id_first_name" class="form-label">Имя*</label>
                  <input type="text" class="form-control" id="id_first_name"
                        value="{% if form.first_name.value %} {{ form.first_name.value }} {% endif %}"
                        name="first_name"
                      placeholder="Введите ваше имя" required>
                      {% if form.first_name.errors %}
                          <div class="alert alert-danger alert-dismissible fade show">{{ form.first_name.errors }}</div>
                      {% endif %}
              </div>

              <div class="form-group">
                  <label for="id_last_name" class="form-label">Фамилия*</label>
                  <input type="text" class="form-control" id="id_last_name"
                        value="{% if form.last_name.value %} {{ form.last_name.value }} {% endif %}"
                        name="last_name"
                      placeholder="Введите вашу фамилию" required>
                      {% if form.last_name.errors %}
                          <div class="alert alert-danger alert-dismissible fade show">{{ form.last_name.errors }}</div>
                      {% endif %}
              </div>

              <div class="form-group">
                  <label for="id_username" class="form-label">Имя пользователя*</label>
                  <input type="text" class="form-control" id="id_username"
                        value="{% if form.username.value %} {{ form.username.value }} {% endif %}"
                        name="username"
                      placeholder="Введите имя пользователя" required>
                      {% if form.username.errors %}
                          <div class="alert alert-danger alert-dismissible fade show">{{ form.username.errors }}</div>
                      {% endif %}
              </div>

              <div class="form-group">
                  <label for="id_email" class="form-label">Email*</label>
                  <input type="email" class="form-control" id="id_email"
                        value="{% if form.email.value %} {{ form.email.value }} {% endif %}"
                        name="email"
                      placeholder="Введите ваш email" required>
                      {% if form.email.errors %}
                          <div class="alert alert-danger alert-dismissible fade show">{{ form.email.errors }}</div>
                      {% endif %}
              </div>

              <div class="form-group">
                  <label for="id_password1" class="form-label">Пароль*</label>
                  <input type="password" class="form-control" id="id_password1"
                        value="{% if form.password1.value %} {{ form.password1.value }} {% endif %}"
                        name="password1"
                      placeholder="Введите пароль" required>
                      {% if form.password1.errors %}
                          <div class="alert alert-danger alert-dismissible fade show">{{ form.password1.errors }}</div>
                      {% endif %}
              </div>

              <div class="form-group">
                  <label for="id_password2" class="form-label">Подтверждение пароля*</label>
                  <input type="password" class="form-control" id="id_password2"
                        value="{% if form.password2.value %} {{ form.password2.value }} {% endif %}"
                        name="password2"
                      placeholder="Подтвердите пароль" required>
                      {% if form.password2.errors %}
                          <div class="alert alert-danger alert-dismissible fade show">
                              {{form.password2.errors}}</div>
                      {% endif %}
              </div>

            

            {% comment %} 
            <div class="form-group">

              <input type="text" id="nameInput" class="form-control" placeholder="Имя пользователя">
            </div> 

            <div class="form-group">
              <input type="text" class="form-control" placeholder="Пароль">
            </div> 

            <div class="form-group">
                <input type="text" class="form-control" placeholder="Повторите пароль">
            </div>  {% endcomment %}

            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
                Согласие на обработку персональных данных
              </label>
            </div>
            
            <p>
              <div class="form-group">
                  <input type="submit" id="submitButton" value="Зарегистрироваться" disabled class="btn btn-primary py-3 px-5" style="margin:auto">
              </div>
            </p> 

            
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const checkbox = document.getElementById('flexCheckDefault');
                    const submitButton = document.getElementById('submitButton');
            
                    // Проверяем состояние чекбокса при изменении
                    checkbox.addEventListener('change', function() {
                        submitButton.disabled = !checkbox.checked;
                    });
                });
            </script>

          </form>
        
        
        
      </div>

    </div>
  </section>
{% endblock section %}



