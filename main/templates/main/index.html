{% extends "base.html" %}
{% load static %}

{% block css %}
	<style>
		.modal {
			display: none;
			position: fixed;
			z-index: 1;
			left: 0;
			top: 0;
			width: 100%;
			height: 100%;
			overflow: auto;
			background-color: rgba(0, 0, 0, 0.5);
		}

		.modal-content {
			background-color: #fefefe;
			margin: 15% auto;
			padding: 20px;
			border: 1px solid #888;
			width: 80%;
			max-width: 500px;
			border-radius: 10px;
			text-align: center;
		}

		.close {
			color: #aaa;
			float: right;
			font-size: 28px;
			font-weight: bold;
			cursor: pointer;
			margin-bottom:4px;
		} 

		.close:hover {
			color: red;
		}

		.arrow-button {
			background-color: transparent;
			border: 1px solid black;
			cursor: pointer;
			padding: 10px;
			transition: transform 0.8s ease;
			width: 100%;
			height: 100%;
		  }
		  
		  .arrow {
			display: inline-block;
			transition: transform 0.8s ease;
			color: white;
		  }
		  
		  .rotated {
			transform: rotate(360deg);
		  }

		  notificat {
			display: none;
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			background-color: #4CAF50;
			color: white;
			text-align: center;
			padding: 15px;
			box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
			z-index: 1000;
		}
		
		.notificat.show {
			display: block;
			animation: slideIn 0.5s ease-out;
		}
		
		@keyframes slideIn {
			from {
				transform: translateY(-100%);
			}
			to {
				transform: translateY(0);
			}
		}
	</style>
{% endblock css %}

{% block section %}

	{% comment %} Окно со ссылкой на админку {% endcomment %}
	<div id="modal" class="modal">
		<div class="modal-content">
			<span id="closeModal" class="close">&times;</span>
			<p>Вы вошли под администратором root! Вы можете сразу <a href="{% url "admin:index" %}">перейти</a> в панель администратора! </p>
		</div>
	</div>

	{% comment %} Закомментированный блок с каруселью {% endcomment %}
	{% comment %} <section id="home-section" class="hero">
		<div class="home-slider owl-carousel">
		
			<div class="slider-item ">
				<div class="container">
					<div class="row d-md-flex no-gutters slider-text align-items-end justify-content-end" data-scrollax-parent="true">
						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="slider-item ">
				<div class="container">
					<div class="row d-md-flex no-gutters slider-text align-items-end justify-content-end" data-scrollax-parent="true">
						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="slider-item ">
				<div class="container">
					<div class="row d-md-flex no-gutters slider-text align-items-end justify-content-end" data-scrollax-parent="true">
						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="slider-item">
				<div class="container">
					<div class="row d-md-flex no-gutters slider-text align-items-end justify-content-end" data-scrollax-parent="true">
						
						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>

						<div class="col-md-4 d-flex ftco-animate">
							<div class="blog-entry justify-content-end">
								<a href="#" class="block-20" style="background-image: url('{% static 'images/person-default.png' %}');">
								</a>
								<div class="text mt-3 float-right d-block">
									<div class="d-flex align-items-center mb-3 meta">
										<p class="mb-0">
											<span class="mr-2">14 янв</span>
											<a href="#" class="mr-2">Admin</a>
											<a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a>
										</p>
									</div>
									<h3 class="heading"><a href="#">Заголовок</a></h3>
									<p>Подзаголовок</p>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>


		</div>
	</section> {% endcomment %}

	{% comment %} Каталог программ {% endcomment %}
    <section class="ftco-section ftco-project" id="projects-section">
    	<div class="container">
			<div class="row justify-content-center pb-5">
				<div class="col-md-12 heading-section text-center ftco-animate">
					<h2 class="mb-4" style="text-align: left;">Программы повышения квалификации</h2>
				</div>
        	</div>

    		<div class="row">
				{% for curse in curses %}
					{% if len_curses_is_even == False %}		
						{% if curse == last_curse %}
							<div class="col-md-12" style="height:470px">
								<div class="project img ftco-animate d-flex justify-content-center align-items-center" style="background-image: url({% if curse.image %}{{ curse.image.url }}{% else %}{% static "images/person-default.png" %}{% endif %}); height: 93%">

									<div class="overlay"></div>
									<div class="text text-center p-4">
										<h3><a href="{% url "main:curse_cart" curse.slug %}">{{ curse.name }}</a></h3>
										<span>{% if curse.hours %}{{ curse.hours }}{% else %}{% endif %}</span>
									</div>
								</div>
							</div>
						{% else %}
							<div class="col-md-6" style="height:470px">
								<div class="project img ftco-animate d-flex justify-content-center align-items-center" style="background-image: url({% if curse.image %}{{ curse.image.url }}{% else %}{% static "images/form-photo.jpg" %}{% endif %}); height: 93%">

									<div class="overlay"></div>
									<div class="text text-center p-4">
										<h3><a href="{% url "main:curse_cart" curse.slug %}">{{ curse.name }}</a></h3>
										<span>{{ curse.hours }} часа</span>
									</div>
								</div>
							</div>
						{% endif %}
					{% else %}
						<div class="col-md-6" style="height:470px">
							<div class="project img ftco-animate d-flex justify-content-center align-items-center" style="background-image: url({% if curse.image %}{{ curse.image.url }}{% else %}{% static "images/form-photo.jpg" %}{% endif %}); height: 93%">

								<div class="overlay"></div>
								<div class="text text-center p-4">
									<h3><a href="{% url "main:curse_cart" curse.slug %}">{{ curse.name }}</a></h3>
									<span>{{ curse.hours }} часа</span>
								</div>
							</div>
						</div>
					{% endif %}
				{% endfor %}
				
				<div class="show-more" style="height:100px;text-align: center; width:100%;">
					<a>
						<button id="rotateButton" class="arrow-button">
							<span class="arrow">
								<svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" fill="currentColor" class="bi bi-chevron-compact-down" viewBox="0 0 16 16">
									<path fill-rule="evenodd" d="M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"/>
								</svg>
							</span>
						</button>  
					</a>
				</div>
    		</div>
    	</div>
    </section>

	{% comment %} Новости {% endcomment %}
    <section class="ftco-section" id="blog-section">
      <div class="container">
		
        <div class="row justify-content-center mb-5 pb-5">
          <div class="col-md-7 heading-section text-center ftco-animate">
            <h2 class="mb-4">Новости</h2>
          </div>
        </div>

        <div class="row d-flex">
		{% for new in news %}
			<div class="col-md-4 d-flex ftco-animate">
				<div class="blog-entry justify-content-end">
					<a href="{% url "main:news" new.slug %}" class="block-20" style="background-image: url('{% if new.image %}{{ new.image.url }}{% else %}{% static 'images/person-default.png' %}{% endif %}');">
					</a>
					<div class="text mt-3 float-right d-block">
						<div class="d-flex align-items-center mb-3 meta">
							<p class="mb-0">
								<span class="mr-2">{{ new.date }}</span>
								{% comment %} <a href="#" class="mr-2">Admin</a> {% endcomment %}
								{% comment %} <a href="#" class="meta-chat"><span class="icon-chat"></span> 3</a> {% endcomment %}
							</p>
						</div>
						<h3 class="heading"><a href="{% url "main:news" new.slug %}">{{ new.title }}</a></h3>
						<p>{{ new.subtitle }}</p>
					</div>
				</div>
			</div>
		{% endfor %}
        </div>

      </div>
    </section>

	{% comment %} Статистика {% endcomment %}
    <section class="ftco-section ftco-no-pt ftco-no-pb ftco-counter img" id="section-counter">
    	<div class="container">
				<div class="row d-md-flex align-items-center">
          <div class="col-md d-flex justify-content-center counter-wrap ftco-animate">
            <div class="block-18">
              <div class="text">
                <strong class="number" data-number="100">0</strong>
                <span>Awards</span>
              </div>
            </div>
          </div>
          <div class="col-md d-flex justify-content-center counter-wrap ftco-animate">
            <div class="block-18">
              <div class="text">
                <strong class="number" data-number="1200">0</strong>
                <span>Complete Projects</span>
              </div>
            </div>
          </div>
          <div class="col-md d-flex justify-content-center counter-wrap ftco-animate">
            <div class="block-18">
              <div class="text">
                <strong class="number" data-number="1200">0</strong>
                <span>Happy Customers</span>
              </div>
            </div>
          </div>
          <div class="col-md d-flex justify-content-center counter-wrap ftco-animate">
            <div class="block-18">
              <div class="text">
                <strong class="number" data-number="500">0</strong>
                <span>Cups of coffee</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

	{% comment %} Оставить заявку {% endcomment %}
    <section class="ftco-section contact-section ftco-no-pb" id="contact-section">
      	<div class="container">

			<div class="row justify-content-center mb-5 pb-3">
				<div class="col-md-7 heading-section text-center ftco-animate">
					<h2 class="mb-4">Оставить заявку на обучение</h2>
				</div>
			</div>

			<div class="row no-gutters block-9">
			
				<div class="col-md-6 order-md-last d-flex">	
					<form action="{% url "main:index" %}" class="form bg-light p-4 p-md-5 contact-form" id="education_request" method="post">
						{% csrf_token %}
						
						<div class="form-group">
							<label for="id_last_name" class="form-label">Фамилия*</label>
							<input type="text" class="form-control" id="id_last_name"
									value="{% if form.last_name.value %} {{ form.last_name.value }} {% endif %}"
									name="last_name"
									placeholder="Введите вашу фамилию" required>
								{% if form.last_name.errors %}
									<div class="alert alert-danger alert-dismissible fade show">{{ form.last_name.errors }}</div>
								{% endif %}
						</div>

						<div class="form-group">
							<label for="id_first_name" class="form-label">Имя*</label>
							<input type="text" class="form-control" id="id_first_name"
									value="{% if form.first_name.value %} {{ form.first_name.value }} {% endif %}"
									name="first_name"
									placeholder="Введите ваше имя" required>
								{% if form.first_name.errors %}
									<div class="alert alert-danger alert-dismissible fade show">{{ form.first_name.errors }}</div>
								{% endif %}
						</div>

						<div class="form-group">
							<label for="id_surname" class="form-label">Отчество</label>
							<input type="text" class="form-control" id="id_surname"
									value="{% if form.surname.value %} {{ form.surname.value }} {% endif %}"
									name="surname"
									placeholder="Введите ваше отчество">
								{% if form.surname.errors %}
									<div class="alert alert-danger alert-dismissible fade show">{{ form.surname.errors }}</div>
								{% endif %}
						</div>

						<div class="form-group">
							<label for="id_birth_date" class="form-label">Дата рождения*</label>
							<input type="text" class="form-control" id="id_birth_date"
									value="{% if form.birth_date.value %} {{ form.birth_date.value }} {% endif %}"
									name="birth_date"
									placeholder="Введите вашу дату рождения" required>
								{% if form.birth_date.errors %}
									<div class="alert alert-danger alert-dismissible fade show">{{ form.birth_date.errors }}</div>
								{% endif %}
						</div>

						<div class="form-group">
							<label for="id_email" class="form-label">Емейл*</label>
							<input type="email" class="form-control" id="id_email"
									value="{% if form.email.value %} {{ form.email.value }} {% endif %}"
									name="email"
									placeholder="Введите email" required>
								{% if form.email.errors %}
									<div class="alert alert-danger alert-dismissible fade show">{{ form.email.errors }}</div>
								{% endif %}
						</div>

						<div class="form-group">
							<label for="id_phone" class="form-label">Номер телефона*</label>
							<input type="text" class="form-control" id="id_phone"
									value="{% if form.phone.value %} {{ form.phone.value }} {% endif %}"
									name="phone"
									placeholder="Введите телефон" required>
								{% if form.phone.errors %}
									<div class="alert alert-danger alert-dismissible fade show">
										{{ form.phone.errors }}</div>
								{% endif %}
						</div>

						<div class="form-group">
							<label for="id_curse" class="form-label">Направление подготовки*</label>
								<select name="curse" id="id_curse" class="form-control" required>
									<option value="" selected>Не выбрано</option>
									{% for curse in curses %}
									<option value="{{ curse.id }}">{{ curse.name }}</option>
									{% endfor %}
								</select>
								{% if form.curse.errors %}
									<div class="alert alert-danger alert-dismissible fade show">
										{{ form.curse.errors }}
									</div>
								{% endif %}
						</div>
						
						<div class="form-check">
							<input class="form-check-input" type="checkbox" id="flexCheckDefault">
							<label class="form-check-label" for="flexCheckDefault">
							Согласие на обработку персональных данных
							</label>
						</div> 
						
						<p>
							<div class="form-group">
								<button type="submit" class="btn btn-primary py-3 px-5" id="submitButton" disabled>Отправить</button>
							</div>
						</p>
					
					</form>
				</div>

				<div class="col-md-6 d-flex">
					<div class="img" style="background-image: url({% static 'images/form-photo.jpg' %});"></div>
				</div>
			
			</div>

			{% comment %} <div class="row d-flex contact-info mb-5">
				<div class="col-md-6 col-lg-3 d-flex ftco-animate">
					<div class="align-self-stretch box p-4 text-center">
						<div class="icon d-flex align-items-center justify-content-center">
							<span class="icon-map-signs"></span>
						</div>
						<h3 class="mb-4">Address</h3>
					<p>198 West 21th Street, Suite 721 New York NY 10016</p>
					</div>
				</div>
				<div class="col-md-6 col-lg-3 d-flex ftco-animate">
					<div class="align-self-stretch box p-4 text-center">
						<div class="icon d-flex align-items-center justify-content-center">
							<span class="icon-phone2"></span>
						</div>
						<h3 class="mb-4">Contact Number</h3>
					<p><a href="tel://1234567920">+ 1235 2355 98</a></p>
					</div>
				</div>
				<div class="col-md-6 col-lg-3 d-flex ftco-animate">
					<div class="align-self-stretch box p-4 text-center">
						<div class="icon d-flex align-items-center justify-content-center">
							<span class="icon-paper-plane"></span>
						</div>
						<h3 class="mb-4">Email Address</h3>
					<p><a href="mailto:info@yoursite.com">info@yoursite.com</a></p>
					</div>
				</div>
				<div class="col-md-6 col-lg-3 d-flex ftco-animate">
					<div class="align-self-stretch box p-4 text-center">
						<div class="icon d-flex align-items-center justify-content-center">
							<span class="icon-globe"></span>
						</div>
						<h3 class="mb-4">Website</h3>
					<p><a href="#">yoursite.com</a></p>
					</div>
				</div>
			</div> {% endcomment %}

    	</div>

    </section>

{% endblock section %}

{% block js %}

	<script>
		// Передаем информацию из Django в JavaScript
		const isSuperuser = {{ is_superuser|yesno:"true,false" }};
	</script>

	<script>
		document.getElementById('rotateButton').addEventListener('click', function() {
			const arrow = this.querySelector('.arrow');
			arrow.classList.toggle('rotated');
		  });
	</script>

	<script>
		var dropdownElementList = [].slice.call(document.querySelectorAll('.dropdown-toggle'))
		var dropdownList = dropdownElementList.map(function (dropdownToggleEl) {
			return new bootstrap.Dropdown(dropdownToggleEl)
		})
	</script>

	<script>
		document.addEventListener('DOMContentLoaded', function() {
			const checkbox = document.getElementById('flexCheckDefault');
			const submitButton = document.getElementById('submitButton');
	
			// Проверяем состояние чекбокса при изменении
			checkbox.addEventListener('change', function() {
				submitButton.disabled = !checkbox.checked;
			});
		});
	</script>

{% endblock js %}